# RoboMaster-Buff
æœ¬ç§‘ç«èµ›
# RoboMaster æœºç”²å¤§å¸ˆå¤§ç¬¦è‡ªåŠ¨å‡»æ‰“ç³»ç»Ÿ
![RoboMaster](https://img.shields.io/badge/RoboMaster-ICRA_AI_Challenge-red) 
![TensorRT](https://img.shields.io/badge/Inference-TensorRT-76B900) 
![YOLOv5](https://img.shields.io/badge/Detection-YOLOv5-00FFFF)

åŸºäºè§†è§‰æ„ŸçŸ¥çš„æ—‹è½¬å¤§ç¬¦åŠ¨æ€å‡»æ‰“ç³»ç»Ÿï¼Œå®ç°å®æ—¶ç›®æ ‡æ£€æµ‹ã€è½¨è¿¹é¢„æµ‹ä¸åŒè½´äº‘å°æ§åˆ¶ã€‚

## ğŸš€ æ ¸å¿ƒåŠŸèƒ½
### 1. å¤§ç¬¦è¯†åˆ«æ¨¡å—
- **YOLOv5s-TensorRT**ï¼š416x416è¾“å…¥ï¼Œ150FPSå®æ—¶æ£€æµ‹  
- **PnPå®šä½ç®—æ³•**ï¼šäºšåƒç´ è§’ç‚¹æ£€æµ‹ï¼Œç›¸æœºåˆ°å¤§ç¬¦è·ç¦»è¯¯å·®<3cm  
- **åŠ¨æ€è¡¥å¿æœºåˆ¶**ï¼šå¡å°”æ›¼æ»¤æ³¢é¢„æµ‹æœªæ¥100msè½¨è¿¹

### 2. çŠ¶æ€æ„ŸçŸ¥æ¨¡å—
- **æ—‹è½¬é€Ÿåº¦ä¼°è®¡**ï¼šå¸§é—´å·®åˆ†æ³•+å…‰æµæ ¡éªŒï¼Œç²¾åº¦Â±5Â°/s  
- **è¿åŠ¨å­¦è§£ç®—**ï¼šè€ƒè™‘å¼¹ä¸¸åˆé€Ÿï¼ˆ18m/sï¼‰å’Œé‡åŠ›è¡¥å¿

### 3. æ§åˆ¶æ¨¡å—
- **åŒè½´æ§åˆ¶**ï¼šPitch-YawåŒé—­ç¯PIDæ§åˆ¶å™¨  
- **é€šä¿¡åè®®**ï¼šUDPåè®®ä¼ è¾“æ§åˆ¶æŒ‡ä»¤ï¼ˆ20mså‘¨æœŸï¼‰  
- **å®‰å…¨æœºåˆ¶**ï¼šå°„å‡»ç¦åŒºæ£€æµ‹ä¸è¿‡çƒ­ä¿æŠ¤

# RoboMaster æœºç”²å¤§å¸ˆå¤§ç¬¦è‡ªåŠ¨å‡»æ‰“ç³»ç»Ÿ
![RoboMaster](https://img.shields.io/badge/RoboMaster-ICRA_AI_Challenge-red) 
![TensorRT](https://img.shields.io/badge/Inference-TensorRT-76B900) 
![YOLOv5](https://img.shields.io/badge/Detection-YOLOv5-00FFFF)

åŸºäºè§†è§‰æ„ŸçŸ¥çš„æ—‹è½¬å¤§ç¬¦åŠ¨æ€å‡»æ‰“ç³»ç»Ÿï¼Œå®ç°å®æ—¶ç›®æ ‡æ£€æµ‹ã€è½¨è¿¹é¢„æµ‹ä¸åŒè½´äº‘å°æ§åˆ¶ã€‚

## ğŸš€ æ ¸å¿ƒåŠŸèƒ½
### 1. å¤§ç¬¦è¯†åˆ«æ¨¡å—
- **YOLOv5s-TensorRT**ï¼š416x416è¾“å…¥ï¼Œ150FPSå®æ—¶æ£€æµ‹  
- **PnPå®šä½ç®—æ³•**ï¼šäºšåƒç´ è§’ç‚¹æ£€æµ‹ï¼Œç›¸æœºåˆ°å¤§ç¬¦è·ç¦»è¯¯å·®<3cm  
- **åŠ¨æ€è¡¥å¿æœºåˆ¶**ï¼šå¡å°”æ›¼æ»¤æ³¢é¢„æµ‹æœªæ¥100msè½¨è¿¹

### 2. çŠ¶æ€æ„ŸçŸ¥æ¨¡å—
- **æ—‹è½¬é€Ÿåº¦ä¼°è®¡**ï¼šå¸§é—´å·®åˆ†æ³•+å…‰æµæ ¡éªŒï¼Œç²¾åº¦Â±5Â°/s  
- **è¿åŠ¨å­¦è§£ç®—**ï¼šè€ƒè™‘å¼¹ä¸¸åˆé€Ÿï¼ˆ18m/sï¼‰å’Œé‡åŠ›è¡¥å¿

### 3. æ§åˆ¶æ¨¡å—
- **åŒè½´æ§åˆ¶**ï¼šPitch-YawåŒé—­ç¯PIDæ§åˆ¶å™¨  
- **é€šä¿¡åè®®**ï¼šUDPåè®®ä¼ è¾“æ§åˆ¶æŒ‡ä»¤ï¼ˆ20mså‘¨æœŸï¼‰  
- **å®‰å…¨æœºåˆ¶**ï¼šå°„å‡»ç¦åŒºæ£€æµ‹ä¸è¿‡çƒ­ä¿æŠ¤

ç¡¬ä»¶è¦æ±‚
ç»„ä»¶	 è§„æ ¼è¦æ±‚
è®¡ç®—å¹³å°	 Jetson Xavier NX
ç›¸æœº	 å…¨å±€å¿«é—¨ç›¸æœºï¼ˆMV-SUA133GC-Tï¼‰
äº‘å°	 6020ç”µæœº+é«˜ç²¾åº¦ç¼–ç å™¨

# ç¯å¢ƒé…ç½®
# å®‰è£…TensorRTåŠ é€Ÿç¯å¢ƒ
sudo apt-get install python3-libnvinfer-dev
pip install -r requirements.txt --extra-index-url https://download.pytorch.org/whl/cu113
# æ¨¡å‹éƒ¨ç½²
# è½¬æ¢YOLOv5æ¨¡å‹åˆ°TensorRT
python export.py --weights runs/train/exp/weights/best.pt --include engine --device 0 --half
# è¿è¡Œç³»ç»Ÿ
# å¯åŠ¨ä¸»æ§ç¨‹åºï¼ˆå¸¦å‚æ•°è°ƒè¯•ç•Œé¢ï¼‰
python main.py \
    --weights assets/buff.trt \
    --calibration calibration.yaml \

# é¡¹ç›®ç»“æ„
â”œâ”€src
â”‚  â”œâ”€build
â”‚  â”‚  â””â”€CMakeFiles
â”‚  â”‚      â”œâ”€3.10.2
â”‚  â”‚      â”‚  â”œâ”€CompilerIdC
â”‚  â”‚      â”‚  â”‚  â””â”€tmp
â”‚  â”‚      â”‚  â””â”€CompilerIdCXX
â”‚  â”‚      â”‚      â””â”€tmp
â”‚  â”‚      â”œâ”€buffR.dir
â”‚  â”‚      â”‚  â”œâ”€calculation
â”‚  â”‚      â”‚  â”œâ”€HK_camera
â”‚  â”‚      â”‚  â”œâ”€usart
â”‚  â”‚      â”‚  â””â”€yolo
â”‚  â”‚      â”œâ”€CMakeTmp
â”‚  â”‚      â””â”€myplugins.dir
â”‚  â”‚          â””â”€yolo
â”‚  â”œâ”€calculation
â”‚  â”œâ”€HK_camera
â”‚  â”œâ”€include
â”‚  â”‚  â”œâ”€my
â”‚  â”‚  â””â”€yolo
â”‚  â”œâ”€usart
â”‚  â””â”€yolo
â””â”€weight
